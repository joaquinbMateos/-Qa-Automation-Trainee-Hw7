{"failedCount":1,"prefixedPath":"classpath:homework07\/bookingParameters.feature","packageQualifiedName":"homework07.bookingParameters","loopIndex":-1,"relativePath":"homework07\/bookingParameters.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2607300,"millis":2.6073,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/automationintesting.online'"},"stepLog":"17:06:53.095 karate.env system property was: null \n"},{"result":{"nanos":245374000,"millis":245.374,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"configure ssl = true"}},{"result":{"nanos":2349746000,"millis":2349.746,"status":"passed"},"step":{"line":8,"prefix":"*","index":0,"text":"def getRoom = call read(\"getRoom.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:homework07\/getRoom.feature","packageQualifiedName":"homework07.getRoom","loopIndex":-1,"relativePath":"homework07\/getRoom.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":366100,"millis":0.3661,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/automationintesting.online'"}},{"result":{"nanos":516100,"millis":0.5161,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"path '\/room\/'"}},{"result":{"nanos":477500,"millis":0.4775,"status":"passed"},"step":{"line":8,"prefix":"And","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":2280287100,"millis":2280.2871,"status":"passed"},"step":{"line":9,"prefix":"When","index":2,"text":"method get"},"stepLog":"17:06:53.734 request:\n1 > GET https:\/\/automationintesting.online\/room\n1 > Accept: application\/json\n1 > Host: automationintesting.online\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:06:55.020 request:\n2 > GET https:\/\/automationintesting.online\/room\n2 > Accept: application\/json\n2 > Host: automationintesting.online\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n2 > Accept-Encoding: gzip,deflate\n\n\n17:06:55.351 request:\n3 > GET https:\/\/automationintesting.online\/room\n3 > Accept: application\/json\n3 > Host: automationintesting.online\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n3 > Accept-Encoding: gzip,deflate\n\n\n17:06:55.662 response time in milliseconds: 281\n3 < 200\n3 < Date: Sat, 15 Oct 2022 20:06:58 GMT\n3 < Content-Type: application\/json\n3 < Transfer-Encoding: chunked\n3 < Connection: keep-alive\n3 < CF-Cache-Status: DYNAMIC\n3 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=BshVMIuiYw1dc8z84CdHm7sSSFfN76DOtf7K9CEkjwGiVIjAIuuEuFsgJK0KJQ7r6ZKsGKW6cef3Gq6taZ0zU9TNsShuyD2tVz973OYX0dVw7sR2v%2Ba6QIO6I2upn1%2B0oU7eC50ZHTifqAb3yA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n3 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n3 < Server: cloudflare\n3 < CF-RAY: 75ab2da4bfe2d9d1-MIA\n3 < alt-svc: h3=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\n{\"rooms\":[{\"roomid\":1,\"roomName\":\"101\",\"type\":\"single\",\"accessible\":true,\"image\":\"https:\/\/www.mwtestconsultancy.co.uk\/img\/testim\/room2.jpg\",\"description\":\"Aenean porttitor mauris sit amet lacinia molestie. In posuere accumsan aliquet. Maecenas sit amet nisl massa. Interdum et malesuada fames ac ante.\",\"features\":[\"TV\",\"WiFi\",\"Safe\"],\"roomPrice\":100}]}\n\n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":10,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":21969000,"millis":21.969,"status":"passed"},"step":{"line":11,"prefix":"And","index":4,"text":"print response"},"stepLog":"17:06:55.733 [print] {\n  \"rooms\": [\n    {\n      \"roomid\": 1,\n      \"roomName\": \"101\",\n      \"type\": \"single\",\n      \"accessible\": true,\n      \"image\": \"https:\/\/www.mwtestconsultancy.co.uk\/img\/testim\/room2.jpg\",\n      \"description\": \"Aenean porttitor mauris sit amet lacinia molestie. In posuere accumsan aliquet. Maecenas sit amet nisl massa. Interdum et malesuada fames ac ante.\",\n      \"features\": [\n        \"TV\",\n        \"WiFi\",\n        \"Safe\"\n      ],\n      \"roomPrice\": 100\n    }\n  ]\n}\n \n"},{"result":{"nanos":6513000,"millis":6.513,"status":"passed"},"step":{"line":12,"prefix":"*","index":5,"text":"def roomid = response['rooms'][0]['roomid']"}},{"result":{"nanos":5100200,"millis":5.1002,"status":"passed"},"step":{"line":13,"prefix":"And","index":6,"text":"print roomid"},"stepLog":"17:06:55.744 [print] 1 \n"}],"executorName":"main","line":6,"name":"getting rooms from API in JSON format.","description":"","durationMillis":2315.2554,"startTime":1665864413428,"failed":false,"refId":"[1:6]","endTime":1665864415745,"exampleIndex":-1}],"callDepth":1,"name":"get request from room endpoint","description":"","resultDate":"2022-10-15 05:06:58 p. m.","durationMillis":2315.2554,"passedCount":1}]},{"result":{"nanos":1018200,"millis":1.0182,"status":"passed"},"step":{"line":9,"prefix":"*","index":1,"text":"def room = getRoom.roomid"}},{"result":{"nanos":613600,"millis":0.6136,"status":"passed"},"step":{"line":11,"prefix":"*","index":2,"text":"def inDate = \"2020-12-28\""}},{"result":{"nanos":539500,"millis":0.5395,"status":"passed"},"step":{"line":12,"prefix":"*","index":3,"text":"def outDate = \"2020-12-29\""}},{"result":{"nanos":607000,"millis":0.607,"status":"passed"},"step":{"line":13,"prefix":"*","index":4,"text":"def firstName = \"joaquin\""}},{"result":{"nanos":560400,"millis":0.5604,"status":"passed"},"step":{"line":14,"prefix":"*","index":5,"text":"def lastName = \"mateos\""}},{"result":{"nanos":369100,"millis":0.3691,"status":"passed"},"step":{"line":16,"prefix":"Given","index":6,"text":"path '\/auth\/login\/'"}},{"result":{"nanos":22544300,"millis":22.5443,"status":"passed"},"step":{"line":17,"prefix":"And","index":7,"text":"request {\"username\": \"admin\",\"password\": \"password\" }"}},{"result":{"nanos":983321400,"millis":983.3214,"status":"passed"},"step":{"line":18,"prefix":"When","index":8,"text":"method post"},"stepLog":"17:06:55.973 request:\n4 > POST https:\/\/automationintesting.online\/auth\/login\n4 > Content-Type: application\/json; charset=UTF-8\n4 > Content-Length: 42\n4 > Host: automationintesting.online\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n4 > Accept-Encoding: gzip,deflate\n{\"username\":\"admin\",\"password\":\"password\"}\n\n17:06:56.736 response time in milliseconds: 735\n4 < 200\n4 < Date: Sat, 15 Oct 2022 20:06:59 GMT\n4 < Content-Length: 0\n4 < Connection: keep-alive\n4 < CF-Cache-Status: DYNAMIC\n4 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=FM2MCZPJ8c%2BIovb075%2FTj9EQQ6bSJsDADJoDX9Or7LZr0eo6l%2FsBXSknb9TH8CqhsnAsFPVB9tRaheLjOS4QM7Dzy%2B44ZcOqCu13rVNdVZPG3KxFvDIw1SUH%2Bl8njCSmBkOCu7GicrYSIMg03w%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n4 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n4 < Server: cloudflare\n4 < CF-RAY: 75ab2daaaf5a21c1-MIA\n4 < alt-svc: h3=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\n4 < Set-Cookie: token=A4jlb3RWpppWFctP; Domain=automationintesting.online\n\n\n"},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":19,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":2500000,"millis":2.5,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"def token = responseHeaders['Set-Cookie']"}},{"result":{"nanos":2077200,"millis":2.0772,"status":"passed"},"step":{"line":21,"prefix":"And","index":11,"text":"print token"},"stepLog":"17:06:56.764 [print] [\n  \"token=A4jlb3RWpppWFctP; Domain=automationintesting.online\"\n]\n \n"},{"result":{"nanos":662400,"millis":0.6624,"status":"passed"},"step":{"line":23,"prefix":"Given","index":12,"text":"path \"\/booking\/\""}},{"result":{"nanos":696400,"millis":0.6964,"status":"passed"},"step":{"line":24,"prefix":"And","index":13,"text":"cookie authToken = token"}},{"result":{"nanos":4789600,"millis":4.7896,"status":"passed"},"step":{"line":25,"prefix":"And","index":14,"text":"request {\"bookingdates\": {\"checkin\": \"#(inDate)\",\"checkout\": \"#(outDate)\"} ,\"depositpaid\": true,\"firstname\": \"#(firstName)\",\"lastname\": \"#(lastName)\",\"roomid\": \"#(room)\",\"totalprice\":0}"}},{"result":{"nanos":1297338100,"millis":1297.3381,"status":"passed"},"step":{"line":26,"prefix":"When","index":15,"text":"method post"},"stepLog":"17:06:56.774 request:\n5 > POST https:\/\/automationintesting.online\/booking\n5 > Cookie: token=A4jlb3RWpppWFctP\n5 > Content-Type: application\/json; charset=UTF-8\n5 > Content-Length: 152\n5 > Host: automationintesting.online\n5 > Connection: Keep-Alive\n5 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n5 > Accept-Encoding: gzip,deflate\n{\"bookingdates\":{\"checkin\":\"2020-12-28\",\"checkout\":\"2020-12-29\"},\"depositpaid\":true,\"firstname\":\"joaquin\",\"lastname\":\"mateos\",\"roomid\":1,\"totalprice\":0}\n\n17:06:57.493 request:\n6 > POST https:\/\/automationintesting.online\/booking\n6 > Cookie: token=A4jlb3RWpppWFctP\n6 > Content-Type: application\/json; charset=UTF-8\n6 > Host: automationintesting.online\n6 > Connection: Keep-Alive\n6 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n6 > Accept-Encoding: gzip,deflate\n{\"bookingdates\":{\"checkin\":\"2020-12-28\",\"checkout\":\"2020-12-29\"},\"depositpaid\":true,\"firstname\":\"joaquin\",\"lastname\":\"mateos\",\"roomid\":1,\"totalprice\":0}\n\n17:06:57.788 request:\n7 > POST https:\/\/automationintesting.online\/booking\n7 > Cookie: token=A4jlb3RWpppWFctP\n7 > Content-Type: application\/json; charset=UTF-8\n7 > Host: automationintesting.online\n7 > Connection: Keep-Alive\n7 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.2)\n7 > Accept-Encoding: gzip,deflate\n{\"bookingdates\":{\"checkin\":\"2020-12-28\",\"checkout\":\"2020-12-29\"},\"depositpaid\":true,\"firstname\":\"joaquin\",\"lastname\":\"mateos\",\"roomid\":1,\"totalprice\":0}\n\n17:06:58.067 response time in milliseconds: 279\n7 < 200\n7 < Date: Sat, 15 Oct 2022 20:07:00 GMT\n7 < Content-Type: application\/json\n7 < Transfer-Encoding: chunked\n7 < Connection: keep-alive\n7 < CF-Cache-Status: DYNAMIC\n7 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=zZcCPlxdN2FrmX%2F80RGx98kdtSaKPMK4LiqZex%2FloXapPqUBPIZUMGerYzoKn%2FLBgwOxPd9Wf9GlCTLOI4Ivex5fGtD3d2isMuOxwTxoJ3PtH3kZt0TeVkOyW%2BgQ7wHT8xPvDpiHRHpXY%2FDoug%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n7 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n7 < Server: cloudflare\n7 < CF-RAY: 75ab2db3ff3009fe-MIA\n7 < alt-svc: h3=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\n{\"bookings\":[{\"bookingid\":1,\"roomid\":1,\"firstname\":\"James\",\"lastname\":\"Dean\",\"depositpaid\":true,\"bookingdates\":{\"checkin\":\"2022-02-01\",\"checkout\":\"2022-02-05\"}}]}\n\n"},{"result":{"nanos":150900,"errorMessage":"status code was: 200, expected: 201, response time in milliseconds: 279, url: https:\/\/automationintesting.online\/booking, response: \n{\"bookings\":[{\"bookingid\":1,\"roomid\":1,\"firstname\":\"James\",\"lastname\":\"Dean\",\"depositpaid\":true,\"bookingdates\":{\"checkin\":\"2022-02-01\",\"checkout\":\"2022-02-05\"}}]}\nclasspath:homework07\/bookingParameters.feature:27","millis":0.1509,"status":"failed"},"step":{"line":27,"prefix":"Then","index":16,"text":"status 201"},"stepLog":"17:06:58.069 classpath:homework07\/bookingParameters.feature:27\nThen status 201\nstatus code was: 200, expected: 201, response time in milliseconds: 279, url: https:\/\/automationintesting.online\/booking, response: \n{\"bookings\":[{\"bookingid\":1,\"roomid\":1,\"firstname\":\"James\",\"lastname\":\"Dean\",\"depositpaid\":true,\"bookingdates\":{\"checkin\":\"2022-02-01\",\"checkout\":\"2022-02-05\"}}]}\nclasspath:homework07\/bookingParameters.feature:27\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":17,"text":"print response"}}],"line":7,"description":"","durationMillis":4915.5341,"failed":true,"error":"status code was: 200, expected: 201, response time in milliseconds: 279, url: https:\/\/automationintesting.online\/booking, response: \n{\"bookings\":[{\"bookingid\":1,\"roomid\":1,\"firstname\":\"James\",\"lastname\":\"Dean\",\"depositpaid\":true,\"bookingdates\":{\"checkin\":\"2022-02-01\",\"checkout\":\"2022-02-05\"}}]}\nclasspath:homework07\/bookingParameters.feature:27","executorName":"main","name":"get token from 'auth\/login\/' endpoint.","startTime":1665864412817,"refId":"[1:7]","endTime":1665864418069,"exampleIndex":-1}],"callDepth":0,"name":"post request to booking endpoint with parameters","description":"","resultDate":"2022-10-15 05:06:58 p. m.","durationMillis":4915.5341,"passedCount":0}